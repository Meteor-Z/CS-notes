# Linux多线程服务端编程

## Event Loop

在程序中设置两个线程，一个负责程序本身，是主线程，另一个负责主线程与其他进程通信，称之为event loop线程。

## 多线程服务器的常用编程模型

- 每一个请求创建一个线程
- 线程池 堵塞IO
- non-blocking op + ip mult
- Leader/Follower （生产者/消费者）
  - 有若干个线程(一般组成线程池)用来处理大量的事件
  - 有一个线程作为领导者，等待事件的发生；其他的线程作为追随者，仅仅是睡眠。
  - 假如有事件需要处理，领导者会从追随者中指定一个新的领导者，自己去处理事件。
  - 唤醒的追随者作为新的领导者等待事件的发生。
  - 处理事件的线程处理完毕以后，就会成为追随者的一员，直到被唤醒成为领导者。
  - 假如需要处理的事件太多，而线程数量不够(能够动态创建线程处理另当别论)，则有的事件可能会得不到处理

