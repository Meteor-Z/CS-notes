# 错误处理，编码以及内核对象

## 错误处理

跟Linux一样，会有对应的返回值，不过返回值是`DWORD GetLastError()`这样的函数，对于Linux，来说，是`errno` 和 `strerror(errno)`，两套平台下都是各个线程独立的，注意，发生错误之后，同Linux一样，要快速调用这个函数，否则这个数值可能会改写，这里返回的是`DWORD`,是一个 double world，也就是 unsigned long。哎，

## 字符集

本地的单字节（也就是ASCII字符集）肯定是不能满足很多语言的要求的，所以说要用双字符集。所以说，还是投入Unicode的怀抱把。

- 优先使用操作系统的函数，而不是C运行库的函数，因为操作系统字符串函数常常,被大型应用程序比如操作系统的外壳进程 Explorer.exe所使用。由于这些函数使用得很多,因此,在你的应用程序运行时,它们可能已经被装入RAM。

