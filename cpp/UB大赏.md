# UB大赏

- C++程序中的UB行为，如果出现，对于程序来说，是可以运行的，但是编译器对于此行为没有任何限制，想干什么就干什么。甚至可以可以让C盘清空，这种情况也是有可能会发生的。
- 但是C++规定，UB是只能发生在运行期的，编译期是不允许发生UB行为的，可以将UB行为加入constexpr进行检测。

- 局部变量没有初始化，就直接使用，那么 就是UB
- 有符号整数溢出就是UB,无符号整数溢出不是Ub
- 修改字面值常量
- 如果某个内存位置上的一项副作用相对于同一个内存位置上的另一副作用是无顺序的，那么它的行为未定义, 其实就是 a = a++ 这类的东西。
- 空指针解引用导致UB
- 全局变量的初始化是UB的，因为初始化的顺序是不保证的，虽然规定了应该在main方法之前初始化完成，但是为了效能，会随着构建的变化而变化，尤其是多文件编译的时候,所以推荐使用函数的形式获取相关的内容
- new和delete匹配，new[] 和 delete[] 进行匹配，如果出现错误，UB
- 在多个文件中定义同名类和同名成员函数是UB,(可以使用作用域进行包含)类内定义的成员函数默认是inline的。也就是说，在.h上进行声明，在.cc文件中进行定义的话，需要保证一个定义，否则就是ub。
- 从一个返回值类型不为 void 的函数返回，但是却没有指定返回值，是ub