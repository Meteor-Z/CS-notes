# 计算机网络习题

## 简答题

- `数据链路层需要解决的三个基本问题是什么？`
  - 封装成帧：在数据前后加入首部和尾部进行帧分界，其实就是使其能够识别
  - 透明传输：避免有其他的干扰
  - 差错检测：防止差错的无效数据帧，避免网络浪费
- `IP 地址 128.118.224.17 属于哪类地址？默认子网掩码是什么？`
  - 很显然，是B类地址，默认子网掩码是`255.255.0.0`
  - 地址区别：
    - A类地址：1~127 -> $0$0000001 ~ $0$1111111
      - 1字节的网络地址和3字节的主机地址
      - 地址范围是0.0.0.0~127.0.0.0，A类网络是127个，每一个网络中可以容纳$2^{24}=16777214$个主机, 当然有些地址不能用，127.0.0.1是特殊地址，表示自身ip地址，即localhost
      - 默认网关就是255.0.0.0
    - B类地址：128~191 $10$000000 ~ $10$111111
      - 2字节的网络地址和2字节的主机地址
      - 默认网关是255.255.0.0
    - C类地址：192~223 $119$00000 ~ $110$11111
      - 三字节的网络地址和1字节的主机地址
      - 默认网关是255.255.255.0
    - D类地址：224~239 $1110$0000 ~ $1110$1111
    - E类地址：240~255 $1111$0000 ~ $1111$11111
- `TCP 运输连接的三个阶段是什么？`
    1. 建立连接：三次握手建立连接
       1. 客户端 -> 服务端
       2. 客户端 <- 服务端
       3. 客户端 -> 服务端
          1. 客户端先发送一个SYN报文到服务端
          2. 服务器收到SYN-ACK请求后，回应一个SYN-ACK报文
          3. 收到SYN-ACK报文请求后，会发送ACK确认报文作为回应，完成连接
    2. 数据传输：=> 如何保证数据传输中数据一定会达到对方的手中呢？
         - 见面经
    3. 断开连接：四次挥手断开连接
       1. 客户端 -> 服务端
       2. 客户端 <- 服务端
       3. 客户端 <- 服务端
       4. 客户端 -> 服务端
          1. 客户端发送信号告知，将要断开连接，发送一个`FIN`数据报，进入了`FIN_WAIT_1`状态
          2. 服务端受到数据报之后，会进行确认，这时候会发给客户端进行确认，进入`CLOSE_WAIT`状态。
          3. 客户端收到这个数据报之后，进入`FIN_WAIT_2`状态。等待服务端准备完毕之后再发送数据报。
          4. 之后服务端再发送一个数据报，表示准备完毕了，进入`LAST_ACK`状态。
          5. 客户端收到之后，再发送一个数据报，告诉他断开连接，然后进入`TIME_WAIT`状态
          6. 服务端收到客户端的ACK包之后，断开连接，进入`CLOSE`状态。
          7. 之后客户端会进入`CLOSE`状态。(`TIME_WAIT`状态转到`CLOSE`状态是2msl)
- `FTP 的中文全称是什么？其下层使用什么运输层协议？`
  - 文件传输协议，位于应用层
  - 下层使用TCP协议
- `说出四种常用的信道复用技术分别是什么？`
  - 复用是指若干个彼此独立的信号，合并成一个可在同一个信道上同时传输的复合信号的方法
    - 说人话就是一根导管上传输不同的信号，同时保证这些信号不受干扰
  - 频分复用(FDM)
    - 给每一个用户分配不同的频带，用户始终占用不同的频带，
  - 时分复用(TDM)
    - 将时间分成若干个时隙，每个时隙只传送一个用户的数据，多个用户在同一条物理线路上按照时间片轮流发送数据，从而实现多路复用，其实就是跟CPU上下文切换是一样的
  - 码分复用
    - 通过对不同用户的信号进行编码和解码，使多个用户在同一时间、同一频率上传输数据，实现多路复用
  - 波分复用
    - 将光信号分为不同的波长（颜色），不同波长的光信号在同一光纤中传输

## 分析题

- `按从下到上的顺序回答计算机网络五层模型是哪五层？分析各层的主要功能是什么？`
  - 应用层
    - 为操作系统或网络应用程序提供访问网络服务的接口
    - 传输的单位是报文
    - 主要协议
      - FTP: 文件传输协议（基于TCP）
      - Telnet: 远程登陆协议（基于TCP）
      - HTTP：超文本传输协议（基于TCP）
      - DNS：域名解析协议（基于UDP）
  - 传输层
    - 网络层只是根据网络地址将源结点发出的数据包传送到目的结点，而传输层则负责将数据可靠地传送到相应的端口
    - 传输的单位是报文段
    - 主要协议
      - TCP
      - UDP
  - 网络层
    - 网络层负责对子网间的数据包进行路由选择。此外，网络层还可以实现拥塞控制、网际互连等功能；
    - 传输的基本单位是IP数据报
    - 主要协议：
      - IP
      - ICMP
  - 数据链路层
    - 主要功能：在两个网络实体之间提供数据链路连接的建立、维持和释放管理
      - 封装成帧：在数据前后加入首部和尾部进行帧分界，其实就是使其能够识别
      - 透明传输：避免有其他的干扰
      - 差错检测：防止差错的无效数据帧，避免网络浪费
    - 传输的基本单位是帧
  - 物理层
    - 物理层确保原始的数据可在各种物理媒体上传输，在四层中，这里合成链路层，程序猿知道四层就可以了
- `分析电路交换、报文交换、分组交换的区别？`
  - 概念：
    - 电路交换：面向连接，双方进行通讯之前，要建立一个连接通道，着连接通道是独占的，就是其他人已经不能用了，传送的是模拟信号
    - 报文交换：以报文为数据交换的单位，报文中含有目的地址和源地址的信息，一次一跳，跳到一个节点之后，如果太多了，就会进行丢包
    - 分组交换：无连接，直接通讯，可以并行传输，效率要比报文高
  - 有点和缺点
    - 电路交换：优点：通信路径的保证 延迟小 缺点：建立时间长 资源利用率低
    - 报文交换：优点：灵活性高 动态分配带宽 缺点：延迟大 对节点的存储要求高
    - 分组交换：优点：高效的带宽利用 适应性强 缺点：可能的延迟和数据包乱序 需要额外的信息处
  - 互联网上主要还是分组交换
- `分析集线器、交换机、路由器的功能及区别。`
  - 集线器
    - 对接收到的信号进行再生整形放大，以扩大网络的传输距离，同时把所有节点集中在以它为中心的节点上
    - 物理层
  - 交换机
    - 根据mac地址进行寻址，扩展互联网，连接更多的设备
    - 数据链路层
  - 路由器
    - 具有连接不同类型网络的功能，并可以选择数据传送路径的设备。
    - 网络层
  - 网桥：数据链路层
  - 网关：不同网络或协议之间进行数据交换的设备和服务器
  - 很多设备其实感觉哪一层都有，模糊了界限了。。
- `域名、MAC 地址、IP 地址的区别是什么？域名到 IP 地址、IP 地址到 MAC 地址分别通过什么协议进行解析？`
  - 域名：额。。。我也不知道咋解释
  - Mac地址：厂家烧录在设备上，在数据链路层
  - IP地址：IP地址是IP协议提供的一种统一的地址格式，它为互联网上的每一个网络和每一台主机分配一个逻辑地址，以此来屏蔽物理地址的差异。在网络层
  - 域名到IP地址：DNS域名解析协议
  - IP地址到mac地址：ARP地址解析协议
- `分析 TCP 协议与 UDP 协议的功能和区别`
  - 都是位于传输层的协议，基于网络层的IP协议
  - TCP是可靠传输，UDP几乎是裸露的建立在IP协议上，基本没有手段（有一些些奇偶校验）保证数据的可靠性
  - TCP是可靠传输
    - 面向连接，有三次握手进行连接和四次挥手断开连接的过程
    - 面向字节流，没有粘包这一说
    - 拥塞控制
    - 流量控制
    - 滑动窗口等
  - UDP是不可靠传输
    - 无连接
    - 面向报文
    - 不可靠
    - 没有TCP的一些流量控制
  - KCP：基于UDP
- `以下五种网络协议分别属于五层模型的哪一层？`
  - 应用层：http(基于TCP), dns(基于UDP), SMTP(简单邮件传输协议,基于TCP), FTP(文件传输协议, TCP) , RIP(基于UDP)，DHCP（动态主机配置协议）
  - 传输层：TCP, UDP
  - 网络层：IP, ICMP
  - 数据链路层：CSMA/CD（载波侦听多接入/碰撞检测）协议 OSPF(开放式最短路径优先,开Dij！)
- 拥塞控制和流量控制有什么区别？
  - 拥塞控制：防止过多的数据注入到网络中，这样可以使网络中的路由器或链路不致过载。拥塞控制所要做的都有一个前提：网络能够承受现有的网络负荷。拥塞控制是一个全局性的过程，涉及到所有的主机、路由器，以及与降低网络传输性能有关的所有因素。
  - 流量控制：指点对点通信量的控制，是端到端正的问题。流量控制所要做的就是抑制发送端发送数据的速率，以便使接收端来得及接收

## Tcp下一跳怎么解决？
