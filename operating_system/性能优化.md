# 性能优化

`cpu计算只能减轻计算瓶颈，不能减轻内存瓶颈。`，因为内存读写实在是太慢太慢了，对于加速那些只有访存的代码，并行的性能优化其实是不大的。  

## 数据访问的大致速度

1次浮点读写约等于8次浮点加法
这里待补充的图片

L1/L2/L3 read 和 Main RAM read 的时间指的是 读取一个缓存行（64字节）所花费的时间

right 和 wrong 指的是 分支预测是否成功

核心数目越多，cpu计算机能力越强，从来来不及从内存中读写数据，越容易遇到内存瓶颈。

缓存分三级，一级缓存还分数据缓存和指令缓存。指令一般是只读的。缓存起来比较好。

### 避免速度变小

1. 数据变小，使得可以存在缓存中，这样速度就有可能超过内存的读取速度。